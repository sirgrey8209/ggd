(this.webpackJsonpggd=this.webpackJsonpggd||[]).push([[0],{13:function(t,e,i){},14:function(t,e,i){},16:function(t,e,i){"use strict";i.r(e);var a=i(1),n=i.n(a),s=i(4),c=i.n(s),r=(i(13),i(2)),l=i(5),u=i(6),o=i(8),m=i(7),d=(i(14),i.p+"static/media/beep.46cb8f99.wav"),h=i.p+"static/media/correct.d875afe6.wav",b=i.p+"static/media/fail.38cda430.mp3",j=i.p+"static/media/wrong.0afb49d7.mp3",f=i(0),v=new Audio(d),N=new Audio(h),x=new Audio(b),k=new Audio(j),p=[{timer:8e3,showNum1:1e3,showNum2:2e3,multiplier:.3,next:8e3},{timer:5e3,showNum1:700,showNum2:1500,multiplier:.7,next:16e3},{timer:3e3,showNum1:500,showNum2:1e3,multiplier:1.2,next:void 0}],O="initial",w="waitingGameStart",g="waitingNum1",S="waitingNum2",C="waitingAnswer",y="correctPlaying",L="gameFinished",T=function(t){Object(o.a)(i,t);var e=Object(m.a)(i);function i(t){var a;return Object(l.a)(this,i),(a=e.call(this,t)).state={gameState:O,num1:void 0,num2:void 0,answer:void 0,timerLeft:void 0,difficulty:0,score_count:0,score_time:0},a.tickHandle=void 0,a.lastTickTime=+new Date,a}return Object(u.a)(i,[{key:"handleClickNumber",value:function(t){var e=this;if(this.state.gameState===C){var i=this.state.answer;if(void 0===i?0!==t&&(i=t):i<10&&(i=10*i+t),i!==this.state.answer){var a=Object(r.a)({},this.state);if(a.answer=i,a.answer===a.num1*a.num2){var n=p[this.state.difficulty];a.gameState=y,a.score_count+=1,a.score_time+=Math.floor(a.timerLeft*n.multiplier),n.next<a.score_time&&(a.difficulty+=1),N.play(),setTimeout((function(){var t=Object(r.a)({},e.state);e.setNewProblem(t),e.setState(t)}),500)}else i>=10&&(k.play(),a.answer=void 0);this.setState(a)}}}},{key:"handleClickStart",value:function(){var t=this;if(this.state.gameState===w){var e=Object(r.a)({},this.state);e.timerLeft-=1e3,this.setState(e)}else{var i=Object(r.a)({},this.state);i.gameState=w,i.timerLeft=3e3,this.setState(i)}void 0===this.tickHandle&&(this.lastTickTime=+new Date,this.tickHandle=setInterval((function(){return t.tickGame()}),70))}},{key:"setNewProblem",value:function(t){var e=p[this.state.difficulty];t.gameState=g,t.num1=Math.floor(8*Math.random())+2,t.num2=Math.floor(9*Math.random())+1,t.answer=void 0,t.timerLeft=e.timer}},{key:"tickGame",value:function(){var t=+new Date,e=t-this.lastTickTime;this.lastTickTime=t;var i=Object(r.a)({},this.state);if(i.gameState===w)i.timerLeft-=e,i.timerLeft<0&&(i.difficulty=0,i.score_count=0,i.score_time=0,this.setNewProblem(i));else if(i.gameState===y);else{i.timerLeft-=e;var a=p[this.state.difficulty];i.gameState===g?a.showNum1<a.timer-i.timerLeft&&(v.play(),i.gameState=S):i.gameState===S?a.showNum2<a.timer-i.timerLeft&&(v.play(),i.gameState=C):i.gameState===C&&i.timerLeft<0&&(x.play(),i.timerLeft=void 0,i.gameState=L,i.answer=i.num1*i.num2,clearInterval(this.tickHandle),this.tickHandle=void 0)}this.setState(i)}},{key:"renderScore",value:function(){var t=this.state.difficulty+1,e=this.state.score_time;return Object(f.jsxs)("div",{className:"score",children:[Object(f.jsxs)("span",{className:"text-level",children:["Level : ",t]}),Object(f.jsxs)("span",{className:"text-score",children:["Score : ",e]})]})}},{key:"renderProblem",value:function(){var t=void 0===this.state.num1?"?":this.state.num1,e=void 0===this.state.num2?"?":this.state.num2,i=void 0===this.state.answer?"?":this.state.answer;return this.state.gameState===g?(t="?",e="?"):this.state.gameState===S&&(e="?"),Object(f.jsxs)("div",{className:"problem",children:[Object(f.jsx)("div",{className:"box",children:Object(f.jsx)("span",{className:"text-num",children:t})}),Object(f.jsx)("div",{className:"text-op",children:"\xd7"}),Object(f.jsx)("div",{className:"box",children:Object(f.jsx)("span",{className:"text-num",children:e})}),Object(f.jsx)("div",{className:"text-op",children:"="}),Object(f.jsx)("div",{className:"box",children:Object(f.jsx)("span",{className:"text-num",children:i})})]})}},{key:"renderTimer",value:function(){var t=p[this.state.difficulty],e=this.state.timerLeft/t.timer*100;return Object(f.jsx)("div",{className:"timer",children:Object(f.jsx)("div",{className:"timer-gauge",style:{width:e+"%"}})})}},{key:"renderKeypad",value:function(){var t=this;return Object(f.jsxs)("div",{className:"input",children:[Object(f.jsxs)("div",{className:"input-row",children:[Object(f.jsx)("button",{className:"input-button",onClick:function(){return t.handleClickNumber(7)},children:"7"}),Object(f.jsx)("button",{className:"input-button",onClick:function(){return t.handleClickNumber(8)},children:"8"}),Object(f.jsx)("button",{className:"input-button",onClick:function(){return t.handleClickNumber(9)},children:"9"})]}),Object(f.jsxs)("div",{className:"input-row",children:[Object(f.jsx)("button",{className:"input-button",onClick:function(){return t.handleClickNumber(4)},children:"4"}),Object(f.jsx)("button",{className:"input-button",onClick:function(){return t.handleClickNumber(5)},children:"5"}),Object(f.jsx)("button",{className:"input-button",onClick:function(){return t.handleClickNumber(6)},children:"6"})]}),Object(f.jsxs)("div",{className:"input-row",children:[Object(f.jsx)("button",{className:"input-button",onClick:function(){return t.handleClickNumber(1)},children:"1"}),Object(f.jsx)("button",{className:"input-button",onClick:function(){return t.handleClickNumber(2)},children:"2"}),Object(f.jsx)("button",{className:"input-button",onClick:function(){return t.handleClickNumber(3)},children:"3"})]}),Object(f.jsxs)("div",{className:"input-row",children:[Object(f.jsx)("button",{className:"input-button",onClick:function(){}}),Object(f.jsx)("button",{className:"input-button",onClick:function(){return t.handleClickNumber(0)},children:"0"}),Object(f.jsx)("button",{className:"input-button",onClick:function(){}})]})]})}},{key:"renderStartButton",value:function(){var t=this;if(this.state.gameState===w){var e=Math.floor(this.state.timerLeft/1e3)+1;return Object(f.jsx)("div",{className:"input",children:Object(f.jsx)("button",{className:"start-button",onClick:function(){return t.handleClickStart()},children:e})})}return Object(f.jsx)("div",{className:"input",children:Object(f.jsx)("button",{className:"start-button",onClick:function(){return t.handleClickStart()},children:"Start"})})}},{key:"render",value:function(){return this.state.gameState===O||this.state.gameState===w||this.state.gameState===L?Object(f.jsxs)("div",{className:"game",children:[this.renderScore(),this.renderProblem(),this.renderStartButton()]}):Object(f.jsxs)("div",{className:"game",children:[this.renderScore(),this.renderProblem(),this.renderTimer(),this.renderKeypad()]})}}]),i}(n.a.Component),P=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,17)).then((function(e){var i=e.getCLS,a=e.getFID,n=e.getFCP,s=e.getLCP,c=e.getTTFB;i(t),a(t),n(t),s(t),c(t)}))};c.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(T,{})}),document.getElementById("root")),P()}},[[16,1,2]]]);
//# sourceMappingURL=main.28895ee3.chunk.js.map